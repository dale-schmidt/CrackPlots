@model ForeSight.Web.Models.ViewModels.BaseViewModel
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="" name="description" />
    <meta content="" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <link rel="shortcut icon" href="~/Assets/images/icons8-monitor-64.png" type="image/x-icon" />    <!-- Favicon -->
    <link rel="apple-touch-icon-precomposed" href="/Assets/images/apple-touch-icon-57-precomposed.png">	<!-- For iPhone -->
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/Assets/images/apple-touch-icon-114-precomposed.png">    <!-- For iPhone 4 Retina display -->
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/Assets/images/apple-touch-icon-72-precomposed.png">    <!-- For iPad -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/Assets/images/apple-touch-icon-144-precomposed.png">    <!-- For iPad Retina display -->
    <!-- CORE CSS FRAMEWORK - START -->
    <link href="/Assets/plugins/pace/pace-theme-flash.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/Assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/Assets/plugins/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <link href="/Assets/css/animate.min.css" rel="stylesheet" type="text/css" />
    <link href="/Assets/plugins/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/textAngular.css" rel="stylesheet" />
    <link href="~/Content/colorpicker.min.css" rel="stylesheet" />
    <!-- CORE CSS FRAMEWORK - END -->
    <!-- HEADER SCRIPTS INCLUDED ON THIS PAGE - START -->


    <link href="/Assets/plugins/jvectormap/jquery-jvectormap-2.0.1.css" rel="stylesheet" type="text/css" media="screen" />

    <!-- HEADER SCRIPTS INCLUDED ON THIS PAGE - END -->
    <!-- CORE CSS TEMPLATE - START -->
    <link href="/Assets/css/style.css" rel="stylesheet" type="text/css" />
    <link href="/Assets/css/responsive.css" rel="stylesheet" type="text/css" />
    <!-- CORE CSS TEMPLATE - END -->
    <title>CrackPlots - @ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link href="~/Content/main.css" rel="stylesheet" />
    @RenderSection("styles", required: false)
</head>
<body>
    <!-- START TOPBAR -->
    <div ng-app="myApp">
        <div ng-controller="topbarController as tVm">
            <div class='page-topbar container-fluid' ng-cloak>
                <div class="row">
                    <div class="col-xs-5 col-md-3">
                        <div class='logo-area'>
                            <a href="/projects" class="logo"><img src="~/Assets/images/CP_logo.jpeg" /></a>
                        </div>
                    </div>
                    <div class="col-xs-5 col-md-6">
                        <div class="topbar-center">
                            <div class="row">
                                <div class="col-xs-4">
                                    <div class="topbar-previous">
                                        <a ng-show="tVm.showLeftArrow" ng-href="{{tVm.leftArrowLink}}"><i class="fas fa-chevron-circle-left"></i> <span class="arrowText">{{tVm.leftArrowText}}</span></a>
                                    </div>
                                </div>
                                <div class="col-xs-4">
                                    <div class="topbar-title">
                                        <a ng-show="tVm.showTitle" ng-href="/projects/edit/{{tVm.projectId}}"><em>{{tVm.projectTitle}}</em></a>
                                    </div>
                                </div>
                                <div class="col-xs-4">
                                    <div class="topbar-next">
                                        <a ng-show="tVm.showRightArrow" ng-href="{{tVm.rightArrowLink}}"><span class="arrowText">{{tVm.rightArrowText}}</span> <i class="fas fa-chevron-circle-right"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-2 col-md-3">
                        <div class='topbar-right'>
                            <ul class="info-menu right-links list-inline list-unstyled">
                                <li ng-if="!tVm.saving" class="saveIcon"><i class="fas fa-save" title="Saved"></i></li>
                                <li ng-if="tVm.saving" class="saveIcon"><i class="fas fa-broadcast-tower" title="Saving..."></i></li>
                                <li ng-hide="tVm.razorViewModel.IsLoggedIn"><a href="/account/register">Register</a></li>
                                <li ng-if="tVm.razorViewModel.IsLoggedIn" class="topbarUsername"><a href="/projects/index">{{tVm.razorViewModel.UserEmail}}</a></li>
                                <li ng-hide="tVm.razorViewModel.IsLoggedIn"><a href="/account/login">Log In</a></li>
                                <li id="logout" ng-if="tVm.razorViewModel.IsLoggedIn"><a ng-click="tVm.logout()">Log Out</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- END TOPBAR -->
        <!-- START CONTAINER -->
        <div class="container-fluid">
            <div class="page-container row-fluid">
                <div class="col-md-offset-1 col-md-10 col-xs-12">
                    <section id="main-content" class="panel">
                        <section class="pic-wrapper main-wrapper">
                            @RenderBody()
                        </section>
                    </section>
                </div>
            </div>
        </div>
    </div>
    <!-- END CONTAINER -->
    <!-- LOAD FILES AT PAGE END FOR FASTER LOADING -->
    <!-- CORE JS FRAMEWORK - START -->
    <script src="/Assets/js/jquery-1.11.2.min.js" type="text/javascript"></script>
    <script src="/Assets/js/jquery.easing.min.js" type="text/javascript"></script>
    <script src="/Assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/Assets/plugins/pace/pace.min.js" type="text/javascript"></script>
    <script src="/Assets/plugins/perfect-scrollbar/perfect-scrollbar.min.js" type="text/javascript"></script>
    <script src="/Assets/plugins/viewport/viewportchecker.js" type="text/javascript"></script>
    <script>window.jQuery || document.write('<script src="/Assets/js/jquery-1.11.2.min.js"><\/script>');</script>
    <!-- CORE JS FRAMEWORK - END -->
    <!-- OTHER SCRIPTS INCLUDED ON THIS PAGE - START -->
    <!-- OTHER SCRIPTS INCLUDED ON THIS PAGE - END -->
    <!-- CORE TEMPLATE JS - START -->
    <script src="/Assets/js/scripts.js" type="text/javascript"></script>
    <!-- END CORE TEMPLATE JS - END -->
    <script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
    <script src="/signalr/hubs"></script>
    <script src="~/Scripts/angular.js"></script>
    <script src="~/Scripts/angular-animate.min.js"></script>
    <script src="~/Scripts/angular-aria.min.js"></script>
    <script src="~/Scripts/angular-material.min.js"></script>
    <script src="~/Scripts/textAngular-rangy.min.js"></script>
    <script src="~/Scripts/textAngular-sanitize.min.js"></script>
    <script src="~/Scripts/textAngular.min.js"></script>

    <script type="text/javascript">
        (function () {
            "use strict";
            angular.module('myApp', ['ngMaterial', 'ngSanitize', 'textAngular']);
        })();

        (function () {
            "use strict";
            angular.module('myApp')
                .value('razorViewModel', @Html.Raw(Json.Encode(Model)));
        })();

        (function () {
            "use strict";
            angular.module('myApp')
                .config(function ($mdThemingProvider) {
                    $mdThemingProvider.theme('error-toast');
                    $mdThemingProvider.theme('success-toast');
                });
        })();

        (function () {
            "use strict";
            angular.module('myApp')
                .config(function ($provide) {
                    $provide.decorator('taOptions', ['taRegisterTool', '$delegate', function (taRegisterTool, taOptions) {
                        // $delegate is the taOptions we are decorating
                        // register the tool with textAngular
                        taRegisterTool('colourBlack', {
                            iconclass: "fa fa-font black",
                            tooltiptext: "Black Text",
                            action: function(){
	                            this.$editor().wrapSelection('forecolor', 'rgb(85,85,85');
                            }
                            });
                        // add the button to the default toolbar definition
                        return taOptions;
                    }]);
                });
            angular.module('myApp')
                .config(function ($provide) {
                    $provide.decorator('taOptions', ['taRegisterTool', '$delegate', function (taRegisterTool, taOptions) {
                        // $delegate is the taOptions we are decorating
                        // register the tool with textAngular
                        taRegisterTool('colourRed', {
                            iconclass: "fa fa-font red",
                            tooltiptext: "Red Text",
                            action: function(){
	                            this.$editor().wrapSelection('forecolor', 'red');
                            }
                            });
                        // add the button to the default toolbar definition
                        return taOptions;
                    }]);
                });
            angular.module('myApp')
                .config(function ($provide) {
                    $provide.decorator('taOptions', ['taRegisterTool', '$delegate', function (taRegisterTool, taOptions) {
                        // $delegate is the taOptions we are decorating
                        // register the tool with textAngular
                        taRegisterTool('colourBlue', {
                            iconclass: "fa fa-font blue",
                            tooltiptext: "Blue Text",
                            action: function(){
	                            this.$editor().wrapSelection('forecolor', 'blue');
                            }
                            });
                        // add the button to the default toolbar definition
                        return taOptions;
                    }]);
                });
            angular.module('myApp')
                .config(function ($provide) {
                    $provide.decorator('taOptions', ['taRegisterTool', '$delegate', function (taRegisterTool, taOptions) {
                        // $delegate is the taOptions we are decorating
                        // register the tool with textAngular
                        taRegisterTool('colourGreen', {
                            iconclass: "fa fa-font green",
                            tooltiptext: "Green Text",
                            action: function(){
	                            this.$editor().wrapSelection('forecolor', 'green');
                            }
                            });
                        // add the button to the default toolbar definition
                        return taOptions;
                    }]);
                });
        })();
    </script>
    <script src="~/Scripts/Controllers/topbarController.js"></script>
    @RenderSection("scripts", required: false)
</body>
</html>
